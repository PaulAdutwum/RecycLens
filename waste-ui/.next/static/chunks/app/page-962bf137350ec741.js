(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2079:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var l=a(5155),s=a(2115),r=a(3464);function n(e){let{apiUrl:t}=e,a=(0,s.useRef)(null),n=(0,s.useRef)(null),[i,c]=(0,s.useState)(null),[d,o]=(0,s.useState)(null),[u,m]=(0,s.useState)(null),[x,h]=(0,s.useState)(null),[g,b]=(0,s.useState)(null),[f,p]=(0,s.useState)(!1),[j,y]=(0,s.useState)("");(0,s.useEffect)(()=>()=>{i&&i.getTracks().forEach(e=>e.stop())},[i]);let v=async()=>{y(""),b(null),o(null),m(null);try{let e=await navigator.mediaDevices.getUserMedia({video:!0});c(e),a.current&&(a.current.srcObject=e,await a.current.play()),h("camera")}catch(e){y("Unable to access camera.")}},N=async()=>{var e;p(!0),y(""),b(null);let l=null;if("camera"===x&&a.current){let e=document.createElement("canvas");e.width=a.current.videoWidth,e.height=a.current.videoHeight,e.getContext("2d").drawImage(a.current,0,0,e.width,e.height),(l=await new Promise(t=>e.toBlob(t,"image/jpeg")))&&o(URL.createObjectURL(l))}else"upload"===x&&(null==(e=n.current)?void 0:e.files)&&(l=n.current.files[0]);if(!l){y("No image to classify."),p(!1);return}let s=new FormData;s.append("file",l,"waste.jpg");try{let{data:e}=await r.A.post(t,s,{headers:{"Content-Type":"multipart/form-data"}});b(e)}catch(e){y("Classification failed.")}finally{p(!1)}};return(0,l.jsxs)("section",{id:"classifier",className:"mb-12 px-4 md:px-0",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-green-700 mb-4",children:"Classify Your Waste"}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center",children:[(0,l.jsx)("div",{className:"w-56 h-56 border border-gray-300 p-2 mb-4 md:mb-0 flex items-center justify-center bg-gray-50",children:"camera"===x?(0,l.jsx)("video",{ref:a,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover rounded"}):d?(0,l.jsx)("img",{src:d,className:"w-full h-full object-cover rounded",alt:"Captured"}):u?(0,l.jsx)("img",{src:u,className:"w-full h-full object-cover rounded",alt:"Uploaded"}):(0,l.jsx)("span",{className:"text-gray-400",children:"No image"})}),(0,l.jsxs)("div",{className:"md:ml-8 flex flex-col gap-3",children:[(0,l.jsx)("input",{type:"file",ref:n,accept:"image/*",onChange:e=>{var t;y(""),b(null),o(null);let a=null==(t=e.target.files)?void 0:t[0];a&&a.type.startsWith("image/")?(m(URL.createObjectURL(a)),h("upload")):y("Please select an image file.")},className:"hidden"}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("button",{onClick:v,className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"Use Camera"}),(0,l.jsx)("button",{onClick:()=>{var e;return null==(e=n.current)?void 0:e.click()},className:"bg-black text-white px-4 py-2 rounded hover:bg-gray-800",children:"Upload Image"})]}),(0,l.jsx)("button",{onClick:N,disabled:f||!x,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50",children:f?"Analyzing...":"Classify"}),g&&(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("p",{className:"text-lg font-bold",children:g.label}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:[(100*g.confidence).toFixed(1),"%"]})]}),j&&(0,l.jsx)("p",{className:"mt-2 text-red-600",children:j})]})]})]})}},5225:(e,t,a)=>{"use strict";a.d(t,{default:()=>c});var l=a(5155),s=a(2115),r=a(1497),n=a(2486),i=a(646);function c(){let[e,t]=(0,s.useState)(""),[a,c]=(0,s.useState)("");return(0,l.jsx)("section",{id:"feedback",className:"py-16 md:py-20",children:(0,l.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,l.jsxs)("div",{className:"text-center mb-12",children:[(0,l.jsx)("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsx)(r.A,{className:"w-8 h-8 text-green-600"})}),(0,l.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Your Feedback Matters"}),(0,l.jsx)("p",{className:"text-xl text-gray-600",children:"Help us improve the Smart Waste Classifier with your valuable insights"})]}),(0,l.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-100",children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Share your experience"}),(0,l.jsx)("textarea",{rows:6,className:"w-full border-2 border-gray-200 rounded-xl p-4 text-gray-900 focus:border-green-500 focus:ring-4 focus:ring-green-100 transition-all duration-200 resize-none",placeholder:"Tell us what you think about the Smart Waste Classifier. How can we make it better?",value:e,onChange:e=>t(e.target.value)})]}),(0,l.jsxs)("button",{onClick:()=>{console.log("User Feedback:",e),t(""),c("Thank you for your feedback!"),setTimeout(()=>c(""),3e3)},disabled:!e.trim(),className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white px-8 py-4 rounded-xl hover:from-green-700 hover:to-green-800 transition-all duration-200 font-semibold text-lg flex items-center justify-center gap-3 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:[(0,l.jsx)(n.A,{className:"w-5 h-5"}),"Submit Feedback"]}),a&&(0,l.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3",children:[(0,l.jsx)(i.A,{className:"w-6 h-6 text-green-600 flex-shrink-0"}),(0,l.jsx)("p",{className:"text-green-800 font-medium",children:a})]})]})})]})})}},9855:(e,t,a)=>{Promise.resolve().then(a.bind(a,2079)),Promise.resolve().then(a.bind(a,5225))}},e=>{var t=t=>e(e.s=t);e.O(0,[992,441,684,358],()=>t(9855)),_N_E=e.O()}]);