{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/pauladutwum/Documents/Myprojects/Waste_Classifier/waste-ui/src/components/Classifier.tsx"],"sourcesContent":["// waste-ui/src/app/components/Classifier.tsx\n\"use client\";\nimport React, { useRef, useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nexport default function Classifier({ apiUrl }: { apiUrl: string }) {\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const [stream, setStream] = useState<MediaStream | null>(null);\n  const [capturedImage, setCapturedImage] = useState<string | null>(null);\n  const [uploadedImage, setUploadedImage] = useState<string | null>(null);\n  const [mode, setMode] = useState<\"camera\" | \"upload\" | null>(null);\n  const [result, setResult] = useState<{\n    label: string;\n    confidence: number;\n  } | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      if (stream) {\n        stream.getTracks().forEach((track) => track.stop());\n      }\n    };\n  }, [stream]);\n\n  const startCamera = async () => {\n    setMessage(\"\");\n    setResult(null);\n    setCapturedImage(null);\n    setUploadedImage(null);\n    try {\n      const mediaStream = await navigator.mediaDevices.getUserMedia({\n        video: true,\n      });\n      setStream(mediaStream);\n      if (videoRef.current) {\n        videoRef.current.srcObject = mediaStream;\n        await videoRef.current.play();\n      }\n      setMode(\"camera\");\n    } catch {\n      setMessage(\"Unable to access camera.\");\n    }\n  };\n\n  const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setMessage(\"\");\n    setResult(null);\n    setCapturedImage(null);\n    const file = e.target.files?.[0];\n    if (file && file.type.startsWith(\"image/\")) {\n      const url = URL.createObjectURL(file);\n      setUploadedImage(url);\n      setMode(\"upload\");\n    } else {\n      setMessage(\"Please select an image file.\");\n    }\n  };\n\n  const captureAndClassify = async () => {\n    setLoading(true);\n    setMessage(\"\");\n    setResult(null);\n    let blob: Blob | null = null;\n\n    if (mode === \"camera\" && videoRef.current) {\n      const canvas = document.createElement(\"canvas\");\n      canvas.width = videoRef.current.videoWidth;\n      canvas.height = videoRef.current.videoHeight;\n      canvas\n        .getContext(\"2d\")!\n        .drawImage(videoRef.current, 0, 0, canvas.width, canvas.height);\n      blob = await new Promise<Blob | null>((res) =>\n        canvas.toBlob(res, \"image/jpeg\")\n      );\n      if (blob) {\n        const preview = URL.createObjectURL(blob);\n        setCapturedImage(preview);\n      }\n    } else if (mode === \"upload\" && fileInputRef.current?.files) {\n      blob = fileInputRef.current.files[0];\n    }\n\n    if (!blob) {\n      setMessage(\"No image to classify.\");\n      setLoading(false);\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append(\"file\", blob, \"waste.jpg\");\n    try {\n      const { data } = await axios.post(apiUrl, formData, {\n        headers: { \"Content-Type\": \"multipart/form-data\" },\n      });\n      setResult(data);\n    } catch {\n      setMessage(\"Classification failed.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <section id=\"classifier\" className=\"mb-12 px-4 md:px-0\">\n      <h2 className=\"text-2xl font-semibold text-green-700 mb-4\">\n        Classify Your Waste\n      </h2>\n      <div className=\"flex flex-col md:flex-row items-start md:items-center\">\n        {/* Preview box */}\n        <div className=\"w-56 h-56 border border-gray-300 p-2 mb-4 md:mb-0 flex items-center justify-center bg-gray-50\">\n          {mode === \"camera\" ? (\n            <video\n              ref={videoRef}\n              autoPlay\n              playsInline\n              muted\n              className=\"w-full h-full object-cover rounded\"\n            />\n          ) : capturedImage ? (\n            <img\n              src={capturedImage}\n              className=\"w-full h-full object-cover rounded\"\n              alt=\"Captured\"\n            />\n          ) : uploadedImage ? (\n            <img\n              src={uploadedImage}\n              className=\"w-full h-full object-cover rounded\"\n              alt=\"Uploaded\"\n            />\n          ) : (\n            <span className=\"text-gray-400\">No image</span>\n          )}\n        </div>\n\n        {/* Controls */}\n        <div className=\"md:ml-8 flex flex-col gap-3\">\n          <input\n            type=\"file\"\n            ref={fileInputRef}\n            accept=\"image/*\"\n            onChange={handleFileUpload}\n            className=\"hidden\"\n          />\n          <div className=\"flex gap-3\">\n            <button\n              onClick={startCamera}\n              className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\"\n            >\n              Use Camera\n            </button>\n            <button\n              onClick={() => fileInputRef.current?.click()}\n              className=\"bg-black text-white px-4 py-2 rounded hover:bg-gray-800\"\n            >\n              Upload Image\n            </button>\n          </div>\n          <button\n            onClick={captureAndClassify}\n            disabled={loading || !mode}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50\"\n          >\n            {loading ? \"Analyzing...\" : \"Classify\"}\n          </button>\n          {result && (\n            <div className=\"mt-4\">\n              <p className=\"text-lg font-bold\">{result.label}</p>\n              <p className=\"text-sm text-gray-600\">\n                {(result.confidence * 100).toFixed(1)}%\n              </p>\n            </div>\n          )}\n          {message && <p className=\"mt-2 text-red-600\">{message}</p>}\n        </div>\n      </div>\n    </section>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 291, "column": 0}, "map": {"version":3,"sources":["file:///Users/pauladutwum/Documents/Myprojects/Waste_Classifier/waste-ui/src/components/Feedback.tsx"],"sourcesContent":["// waste-ui/src/app/components/Feedback.tsx\n\"use client\";\nimport React, { useState } from \"react\";\nimport { MessageSquare, Send, CheckCircle } from \"lucide-react\";\n\nexport default function Feedback() {\n  const [feedback, setFeedback] = useState(\"\");\n  const [confirm, setConfirm] = useState(\"\");\n\n  const submit = () => {\n    console.log(\"User Feedback:\", feedback);\n    setFeedback(\"\");\n    setConfirm(\"Thank you for your feedback!\");\n    setTimeout(() => setConfirm(\"\"), 3000);\n  };\n\n  return (\n    <section id=\"feedback\" className=\"py-16 md:py-20\">\n      <div className=\"max-w-2xl mx-auto\">\n        <div className=\"text-center mb-12\">\n          <div className=\"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6\">\n            <MessageSquare className=\"w-8 h-8 text-green-600\" />\n          </div>\n          <h2 className=\"text-3xl md:text-4xl font-bold text-gray-900 mb-4\">\n            Your Feedback Matters\n          </h2>\n          <p className=\"text-xl text-gray-600\">\n            Help us improve the Smart Waste Classifier with your valuable\n            insights\n          </p>\n        </div>\n\n        <div className=\"bg-white rounded-2xl shadow-lg p-8 border border-gray-100\">\n          <div className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-3\">\n                Share your experience\n              </label>\n              <textarea\n                rows={6}\n                className=\"w-full border-2 border-gray-200 rounded-xl p-4 text-gray-900 focus:border-green-500 focus:ring-4 focus:ring-green-100 transition-all duration-200 resize-none\"\n                placeholder=\"Tell us what you think about the Smart Waste Classifier. How can we make it better?\"\n                value={feedback}\n                onChange={(e) => setFeedback(e.target.value)}\n              />\n            </div>\n\n            <button\n              onClick={submit}\n              disabled={!feedback.trim()}\n              className=\"w-full bg-gradient-to-r from-green-600 to-green-700 text-white px-8 py-4 rounded-xl hover:from-green-700 hover:to-green-800 transition-all duration-200 font-semibold text-lg flex items-center justify-center gap-3 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed shadow-lg hover:shadow-xl\"\n            >\n              <Send className=\"w-5 h-5\" />\n              Submit Feedback\n            </button>\n\n            {confirm && (\n              <div className=\"bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3\">\n                <CheckCircle className=\"w-6 h-6 text-green-600 flex-shrink-0\" />\n                <p className=\"text-green-800 font-medium\">{confirm}</p>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n"],"names":[],"mappings":"AAAA,2CAA2C;;;;;AAE3C;AACA;AAAA;AAAA;;;AAFA;;;AAIe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,SAAS;QACb,QAAQ,GAAG,CAAC,kBAAkB;QAC9B,YAAY;QACZ,WAAW;QACX,WAAW,IAAM,WAAW,KAAK;IACnC;IAEA,qBACE,6LAAC;QAAQ,IAAG;QAAW,WAAU;kBAC/B,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,2NAAA,CAAA,gBAAa;gCAAC,WAAU;;;;;;;;;;;sCAE3B,6LAAC;4BAAG,WAAU;sCAAoD;;;;;;sCAGlE,6LAAC;4BAAE,WAAU;sCAAwB;;;;;;;;;;;;8BAMvC,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;;kDACC,6LAAC;wCAAM,WAAU;kDAAiD;;;;;;kDAGlE,6LAAC;wCACC,MAAM;wCACN,WAAU;wCACV,aAAY;wCACZ,OAAO;wCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;0CAI/C,6LAAC;gCACC,SAAS;gCACT,UAAU,CAAC,SAAS,IAAI;gCACxB,WAAU;;kDAEV,6LAAC,qMAAA,CAAA,OAAI;wCAAC,WAAU;;;;;;oCAAY;;;;;;;4BAI7B,yBACC,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,8NAAA,CAAA,cAAW;wCAAC,WAAU;;;;;;kDACvB,6LAAC;wCAAE,WAAU;kDAA8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ3D;GA9DwB;KAAA","debugId":null}}]
}